<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∞—Ä—ñ–∞–Ω—Ç 10 - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Collapse –û–±'—î–∫—Ç—ñ–≤</title>
    <link rel="stylesheet" href="grid_phone.css">
</head>
<body>
    <div class="grid-container">
        <div class="item item1">
            <h2>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞–±–æ—Ä—É –æ–±'—î–∫—Ç—ñ–≤ "Collapse" (–í–∞—Ä—ñ–∞–Ω—Ç 10)</h2>
        </div>

        <div class="item item2">
            <p>–§–µ–Ω—Ç–µ–∑—ñ ‚Äì —Ü–µ –∂–∞–Ω—Ä, –¥–µ –º–∞–≥—ñ—è –æ–∂–∏–≤–∞—î –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö –∫–Ω–∏–≥.</p>
            <img src="tolkin.jpg">
            <p>–û–¥–Ω—ñ—î—é –∑ –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏—Ö —Å–µ—Ä—ñ–π —î "–í–æ–ª–æ–¥–∞—Ä –ü–µ—Ä—Å–Ω—ñ–≤" –î–∂.–†.–†. –¢–æ–ª–∫—ñ–Ω–∞.</p>
        </div>

        <div class="item item3">
            <div id="collapse-form-container">
                <h3>–°—Ç–≤–æ—Ä–∏—Ç–∏ –ù–∞–±—ñ—Ä Collapse –û–±'—î–∫—Ç—ñ–≤</h3>
                <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —ó—Ö–Ω—ñ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–¥–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á.</p>

                <div id="collapse-list">
                </div>

                <button type="button" onclick="addCollapseItem()" style="margin: 10px 0; padding: 10px;">–î–æ–¥–∞—Ç–∏ Collapse –ï–ª–µ–º–µ–Ω—Ç</button>
                <button type="button" onclick="saveCollapseData()" style="padding: 10px;">–ó–±–µ—Ä–µ–≥—Ç–∏ –î–∞–Ω—ñ –Ω–∞ –°–µ—Ä–≤–µ—Ä</button>
                <p id="status-message" style="margin-top: 15px; font-weight: bold;"></p>
            </div>
        </div>

        <div class="item item4">
            <nav>
                <ul>
                    <li><a href="collapse_creator.html">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è Collapse (–°—Ç–æ—Ä—ñ–Ω–∫–∞ 1)</a></li>
                    <li><a href="collapse_viewer.html">–ü–µ—Ä–µ–≥–ª—è–¥ Collapse (–°—Ç–æ—Ä—ñ–Ω–∫–∞ 2)</a></li>
                </ul>
            </nav>
        </div>

        <div class="item item5">
            <p>"–ì—Ä–∞ –ü—Ä–µ—Å—Ç–æ–ª—ñ–≤" –î–∂–æ—Ä–¥–∂–∞ –†.–†. –ú–∞—Ä—Ç—ñ–Ω–∞ ‚Äì —Ü–µ —Ç–µ–º–Ω–µ —Ñ–µ–Ω—Ç–µ–∑—ñ.</p>
            <img src="GameOfThrones.jpg">
            <p>–ü–æ–ª—ñ—Ç–∏—á–Ω—ñ —ñ–Ω—Ç—Ä–∏–≥–∏ —Ç–∞ –±–æ—Ä–æ—Ç—å–±–∞ –∑–∞ –∑–∞–ª—ñ–∑–Ω–∏–π —Ç—Ä–æ–Ω.</p>
        </div>
        <div class="item item6">
            <p>"–í—ñ–¥—å–º–∞–∫" –ê–Ω–¥–∂–µ—è –°–∞–ø–∫–æ–≤—Å—å–∫–æ–≥–æ ‚Äì –ø–æ–ª—å—Å—å–∫–∞ —Ñ–µ–Ω—Ç–µ–∑—ñ-–∫–ª–∞—Å–∏–∫–∞.</p>
            <img src="witcher.jpg">
            <p>–Ü—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ –ì–µ—Ä–∞–ª—å—Ç–∞ –∑ –†—ñ–≤—ñ—ó ‚Äì –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ –º–∏—Å–ª–∏–≤—Ü—è –Ω–∞ —á—É–¥–æ–≤–∏—Å—å–∫.</p>
        </div>

        <div class="item item7">
            <p>–§—É—Ç–µ—Ä —Å–∞–π—Ç—É. –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è —Ç–∞ –∫–æ–ø—ñ—Ä–∞–π—Ç.</p>
        </div>
    </div>

    <script>
    let itemCounter = 0; 
    function addCollapseItem() {
      const list = document.getElementById('collapse-list');
      const index = itemCounter++;

      const newItem = document.createElement('div');
      newItem.className = 'collapse-item-form';
      newItem.innerHTML = `
        <h4 style="margin-top: 15px;">–ï–ª–µ–º–µ–Ω—Ç Collapse #${index + 1}</h4>
        <label for="title-${index}">–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
        <input type="text" id="title-${index}" class="collapse-title" value="–ó–∞–≥–æ–ª–æ–≤–æ–∫ ${index + 1}" required style="width: 90%; padding: 5px;"><br><br>

        <label for="content-${index}">–ö–æ–Ω—Ç–µ–Ω—Ç:</label>
        <textarea id="content-${index}" class="collapse-content" rows="3" required style="width: 90%; padding: 5px;">–¢–µ–∫—Å—Ç, —â–æ –∑–≥–æ—Ä—Ç–∞—î—Ç—å—Å—è –¥–ª—è –µ–ª–µ–º–µ–Ω—Ç–∞ ${index + 1}.</textarea><br>

        <button type="button" onclick="this.parentElement.remove();" style="margin-top: 5px;">–í–∏–¥–∞–ª–∏—Ç–∏ –ï–ª–µ–º–µ–Ω—Ç</button>
        <hr style="margin: 15px 0; border-top: 1px solid #ddd;">
      `;
      list.appendChild(newItem);
    }

    function collectData() {
      const data = [];
      const items = document.querySelectorAll('.collapse-item-form');
      items.forEach(item => {
        const titleInput = item.querySelector('.collapse-title');
        const contentTextarea = item.querySelector('.collapse-content');

        if (titleInput && contentTextarea) {
          data.push({
            title: titleInput.value,
            content: contentTextarea.value
          });
        }
      });
      return data;
    }

    function saveCollapseData() {
      const data = collectData();
      const statusMessage = document.getElementById('status-message');

      if (data.length === 0) {
          statusMessage.textContent = '–ù–µ–º–æ–∂–ª–∏–≤–æ –∑–±–µ—Ä–µ–≥—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–π –Ω–∞–±—ñ—Ä –æ–±\'—î–∫—Ç—ñ–≤.';
          statusMessage.style.color = 'orange';
          return;
      }

      statusMessage.textContent = 'üîÑ –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö...';
      statusMessage.style.color = 'blue';

      fetch('save_data.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })
      .then(response => response.json())
      .then(result => {
        if (result.success) {
          statusMessage.textContent = '‚úÖ –î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ!';
          statusMessage.style.color = 'green';
        } else {
          statusMessage.textContent = `‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: ${result.message || '–ù–µ–≤—ñ–¥–æ–º–∞ –ø–æ–º–∏–ª–∫–∞'}`;
          statusMessage.style.color = 'red';
        }
      })
      .catch((error) => {
        statusMessage.textContent = `‚ùå –ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ/—Å–µ—Ä–≤–µ—Ä–∞: ${error.message}`;
        statusMessage.style.color = 'red';
      });
    }

    document.addEventListener('DOMContentLoaded', addCollapseItem);
    </script>
</body>
</html>